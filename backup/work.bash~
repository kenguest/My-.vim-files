#stuff specific for work.
#alias glccvs='cvs -z3 -d:ext:kenguest@cvs.glc.sourceforge.net:/cvsroot/glc'

if [ -x /usr/bin/rlwrap ]; then
	alias mysql="/usr/bin/rlwrap -a --prompt-colour='1;33' /usr/bin/mysql"
	export MYSQL_PS1="\U [`hostname`] (\d) > "
else
	export MYSQL_PS1='\u@\h (\d) > '
fi
alias halt='su -c halt'                
alias listvhosts='sudo apache2 -S 2>&1 | grep namevhost | grep -v localhost | sed -e"s/.*namevhost //; s/(.*//"|sort'
alias irc='ssh -t lir screen -x'
#alias updatetags='(cd /var/www/nmc/; find . -name \*php -exec ctags -af _tags \{\} \; ; mv _tags tags)'
export addressbook=/home/kguest/.kde/share/apps/kabc/std.vcf
export consultancy=/home/apache/docroot/consultancy
export CVSROOT=/home/`whoami`/dev/cvsrep
export ULP15=/usr/lib/python1.5/
export PYTHONPATH=~/lib/python2.6/site-packages

source ~/config/pearcompletion.sh
#sshfs lir:.purple ~/.purple > /dev/null 2>&1
alias phpgrep='find . -name \*php | xargs grep'
alias zf='/home/kguest/dev/ZendFramework-1.11.9/bin/zf.sh'
alias merlin='ssh developer@clancy/merlin.blacknight.ie'
alias clancy='ssh clancy'
alias key_us='setxkbmap us'

# Simple svn enhancement function
# Read more about it at: http://westhoffswelt.de
function svnen() {
	local SVN="`which svn`"

	local operation=$1
	shift
	local arguments=$@
	
	case "${operation}" in
		"status"|"stat"|"st")
			# My thanks for this snippet go to Kore Nordmann
			# (http://kore-nordmann.de)
    		${SVN} ${operation} --ignore-externals ${arguments} | grep -v '^X' | sed -e 's/^\?.*$/[1;34m\0[m/' -e 's/^!.*$/[1;31m\0[m/' -e 's/^A.*$/[1;32m\0[m/' -e 's/^M.*$/[1;33m\0[m/' -e 's/^D.*$/[0;31m\0[m/'
		;;
		"diff"|"di")
			# The colordiff utility (http://colordiff.sourceforge.net) is
			# needed for this enhancement to work
			# Thanks to Lukas Kahwe Smith for the addition to
			# leave out whitespace changes
			# Thanks to Robin Speekenbrink for the hint to the -R
			# switch of less, which should fix problems some of
			# you might have with colorization.
			${SVN} ${operation} ${arguments} --diff-cmd `which diff` -x "-u -w"|colordiff|less -R
		;;
		"update"|"up")
			# This snippet is taken from a blog post found on the net. My
			# thanks go out to the author of it.
			# http://woss.name/2007/02/01/display-svn-changelog-on-svn-up/
			# I have slightly modified it to better suit my needs.
			
			local old_revision=`${SVN} info ${arguments} | awk '/^Revision:/ {print $2}'`
			local first_update=$((${old_revision} + 1))
			
			${SVN} ${operation} ${arguments}
		    
			local new_revision=`${SVN} info ${arguments} | awk '/^Revision:/ {print $2}'`

			if [ ${new_revision} -gt ${old_revision} ]; then
				svn log -v -rHEAD:${first_update} ${arguments}
			else
				echo "No changes."
			fi
		;;
		"log")
			${SVN} ${operation} ${arguments}|sed -e 's/^-\+$/[1;32m\0[m/' -e 's/^r[0-9]\+.\+$/[1;31m\0[m/'
		;;
		"blame"|"praise"|"annotate"|"ann")
			${SVN} ${operation} ${arguments}|sed -e 's/^\(\s*[0-9]\+\s*\)\([^ ]\+\s*\)\(.*\)$/[1;32m\1[m[1;31m\2[m\3/'
		;;
		*)
			${SVN} ${operation} ${arguments}
		;;
	esac
}
